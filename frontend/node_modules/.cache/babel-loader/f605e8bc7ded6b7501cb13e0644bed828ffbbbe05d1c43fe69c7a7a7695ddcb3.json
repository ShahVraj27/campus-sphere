{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{Box}from'@mui/material';import{useAuth}from'./context/AuthContext';// Layout Components\nimport Header from'./components/common/Header';import Footer from'./components/common/Footer';import Navbar from'./components/common/Navbar';// Pages\nimport Home from'./pages/Home';import Login from'./pages/Login';import Register from'./pages/Register';import Profile from'./pages/Profile';import NotFound from'./pages/NotFound';// Content Pages\nimport Courses from'./pages/Courses';import CourseDetail from'./pages/CourseDetail';import Hostels from'./pages/Hostels';import HostelDetail from'./pages/HostelDetail';import Clubs from'./pages/Clubs';import ClubDetail from'./pages/ClubDetail';import Events from'./pages/Events';import EventDetail from'./pages/EventDetail';import Friends from'./pages/Friends';import FriendRequests from'./pages/FriendRequests';import Chats from'./pages/Chats';import ChatDetail from'./pages/ChatDetail';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{user,loading}=useAuth();// Show nothing while authentication status is being checked\nif(loading){return null;}// Redirect to login if not authenticated\nif(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return children;};function App(){const{user}=useAuth();return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(Header,{}),user&&/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{flexGrow:1,py:3,px:{xs:2,md:4}},children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!user?/*#__PURE__*/_jsx(Register,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/courses\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Courses,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/courses/:courseId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CourseDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/hostels\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Hostels,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/hostels/:hostelId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(HostelDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/clubs\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Clubs,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/clubs/:clubName\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ClubDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/events\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Events,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/events/:eventId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(EventDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/friends\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Friends,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/friend-requests\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(FriendRequests,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/chats\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Chats,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/chats/:chatId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChatDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","Box","useAuth","Header","Footer","Navbar","Home","Login","Register","Profile","NotFound","Courses","CourseDetail","Hostels","HostelDetail","Clubs","ClubDetail","Events","EventDetail","Friends","FriendRequests","Chats","ChatDetail","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","user","loading","to","App","sx","display","flexDirection","minHeight","component","flexGrow","py","px","xs","md","path","element"],"sources":["C:/Vraj/Academics/2-2/DBMS/trial/campus-sphere/frontend/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { Box } from '@mui/material';\r\nimport { useAuth } from './context/AuthContext';\r\n\r\n// Layout Components\r\nimport Header from './components/common/Header';\r\nimport Footer from './components/common/Footer';\r\nimport Navbar from './components/common/Navbar';\r\n\r\n// Pages\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport Profile from './pages/Profile';\r\nimport NotFound from './pages/NotFound';\r\n\r\n// Content Pages\r\nimport Courses from './pages/Courses';\r\nimport CourseDetail from './pages/CourseDetail';\r\nimport Hostels from './pages/Hostels';\r\nimport HostelDetail from './pages/HostelDetail';\r\nimport Clubs from './pages/Clubs';\r\nimport ClubDetail from './pages/ClubDetail';\r\nimport Events from './pages/Events';\r\nimport EventDetail from './pages/EventDetail';\r\nimport Friends from './pages/Friends';\r\nimport FriendRequests from './pages/FriendRequests';\r\nimport Chats from './pages/Chats';\r\nimport ChatDetail from './pages/ChatDetail';\r\n\r\n// Protected Route Component\r\nconst ProtectedRoute = ({ children }) => {\r\n  const { user, loading } = useAuth();\r\n  \r\n  // Show nothing while authentication status is being checked\r\n  if (loading) {\r\n    return null;\r\n  }\r\n  \r\n  // Redirect to login if not authenticated\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n  \r\n  return children;\r\n};\r\n\r\nfunction App() {\r\n  const { user } = useAuth();\r\n  \r\n  return (\r\n    <Box sx={{ display: 'flex', flexDirection: 'column', minHeight: '100vh' }}>\r\n      <Header />\r\n      \r\n      {user && <Navbar />}\r\n      \r\n      <Box component=\"main\" sx={{ flexGrow: 1, py: 3, px: { xs: 2, md: 4 } }}>\r\n        <Routes>\r\n          {/* Public Routes */}\r\n          <Route path=\"/login\" element={!user ? <Login /> : <Navigate to=\"/\" />} />\r\n          <Route path=\"/register\" element={!user ? <Register /> : <Navigate to=\"/\" />} />\r\n          \r\n          {/* Protected Routes */}\r\n          <Route path=\"/\" element={\r\n            <ProtectedRoute>\r\n              <Home />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/profile\" element={\r\n            <ProtectedRoute>\r\n              <Profile />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/courses\" element={\r\n            <ProtectedRoute>\r\n              <Courses />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/courses/:courseId\" element={\r\n            <ProtectedRoute>\r\n              <CourseDetail />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/hostels\" element={\r\n            <ProtectedRoute>\r\n              <Hostels />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/hostels/:hostelId\" element={\r\n            <ProtectedRoute>\r\n              <HostelDetail />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/clubs\" element={\r\n            <ProtectedRoute>\r\n              <Clubs />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/clubs/:clubName\" element={\r\n            <ProtectedRoute>\r\n              <ClubDetail />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/events\" element={\r\n            <ProtectedRoute>\r\n              <Events />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/events/:eventId\" element={\r\n            <ProtectedRoute>\r\n              <EventDetail />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/friends\" element={\r\n            <ProtectedRoute>\r\n              <Friends />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/friend-requests\" element={\r\n            <ProtectedRoute>\r\n              <FriendRequests />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/chats\" element={\r\n            <ProtectedRoute>\r\n              <Chats />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          <Route path=\"/chats/:chatId\" element={\r\n            <ProtectedRoute>\r\n              <ChatDetail />\r\n            </ProtectedRoute>\r\n          } />\r\n          \r\n          {/* Not Found Route */}\r\n          <Route path=\"*\" element={<NotFound />} />\r\n        </Routes>\r\n      </Box>\r\n      \r\n      <Footer />\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}